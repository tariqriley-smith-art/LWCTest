<template>
  <lightning-card>
    <div class="spacing">
      <div class="slds-p-around_medium">
        <template if:true={absenses}>
          <template if:true={absenses.length}>
            <h2 class="subtitle">
              Absenses
            </h2>
            <lightning-combobox name="dateFilter" label="Filter Absences" value={selectedValue}
            placeholder="Select a range" options={options} onchange={handleFilterChange}>
            </lightning-combobox>
            <div class='spacing2'>
              <template for:each={absenses} for:item="a">
                <p key={a.Id}>
                  <a href={a.absenseLink} target="_blank">
                    ‚ùå{a.Contact__r.Name} - {a.Absense_Date__c}
                  </a>
                </p>
              </template>
            </div>
          </template>
          <template if:false={absenses.length}>
            <p>
              No absenses today.
            </p>
          </template>
        </template>
        <template if:true={error}>
          <p>
            Error loading absenses.
          </p>
        </template>
      </div>
    </div>
  </lightning-card>
</template>